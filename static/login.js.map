{"mappings":"MAAA,MAAMA,EAAoBC,OAAOC,SAASC,cACxC,8BAGFH,GAAmBI,iBAAiB,UAAWC,IAC7CA,EAAMC,iBACN,MAAMC,EACJP,EAAkBG,cAAgC,sBAC9CK,OAAS,GACTC,EACJT,EAAkBG,cAAgC,mBAC9CK,OAAS,GACTE,EACJV,EAAkBG,cAAgC,sBAC9CK,OAAS,GAEfG,MAAM,QAAS,CACbC,OAAQ,OACRC,QAAS,CACPC,OAAQ,6BAEVC,KAAMC,KAAKC,UAAU,CACnBC,KAAM,S,MACNT,E,SACAC,EACAS,kBAAmBZ,MAGpBa,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,IACDA,GAAUA,EAAOC,QACnBvB,OAAOC,SAASuB,OAAS,aAAaF,EAAOC,QAC7CvB,OAAOyB,SAASC,KAAO,QACzB,GACF,IAGJ,MAAMC,EAAmB3B,OAAOC,SAASC,cACvC,6BAGFyB,GAAkBxB,iBAAiB,UAAWC,IAC5CA,EAAMC,iBACN,MAAMG,EACJmB,EAAiBzB,cAAgC,mBAAmBK,OACpE,GACIE,EACJkB,EAAiBzB,cAAgC,sBAC7CK,OAAS,GAEfG,MAAM,SAAU,CACdC,OAAQ,OACRG,KAAMC,KAAKC,UAAU,C,MACnBR,E,SACAC,MAGDU,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,IACDA,GAAUA,EAAOC,QACnBvB,OAAOC,SAASuB,OAAS,aAAaF,EAAOC,QAC7CvB,OAAOyB,SAASC,KAAO,QACzB,GACF,G","sources":["pages/login.ts"],"sourcesContent":["const signupFormElement = window.document.querySelector(\r\n  \"form[data-action='signup']\"\r\n);\r\n\r\nsignupFormElement?.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  const username =\r\n    signupFormElement.querySelector<HTMLInputElement>('[name=\"username\"]')\r\n      ?.value ?? \"\";\r\n  const email =\r\n    signupFormElement.querySelector<HTMLInputElement>('[name=\"email\"]')\r\n      ?.value ?? \"\";\r\n  const password =\r\n    signupFormElement.querySelector<HTMLInputElement>('[name=\"password\"]')\r\n      ?.value ?? \"\";\r\n\r\n  fetch(\"/user\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/activity+json\",\r\n    },\r\n    body: JSON.stringify({\r\n      type: \"Person\",\r\n      email,\r\n      password,\r\n      preferredUsername: username,\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((result) => {\r\n      if (result && result.token) {\r\n        window.document.cookie = `__session=${result.token}`;\r\n        window.location.href = \"/home\";\r\n      }\r\n    });\r\n});\r\n\r\nconst loginFormElement = window.document.querySelector(\r\n  \"form[data-action='login']\"\r\n);\r\n\r\nloginFormElement?.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  const email =\r\n    loginFormElement.querySelector<HTMLInputElement>('[name=\"email\"]')?.value ??\r\n    \"\";\r\n  const password =\r\n    loginFormElement.querySelector<HTMLInputElement>('[name=\"password\"]')\r\n      ?.value ?? \"\";\r\n\r\n  fetch(\"/login\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((result) => {\r\n      if (result && result.token) {\r\n        window.document.cookie = `__session=${result.token}`;\r\n        window.location.href = \"/home\";\r\n      }\r\n    });\r\n});\r\n"],"names":["$7a8cdeb0f1696c38$var$signupFormElement","window","document","querySelector","addEventListener","event","preventDefault","username","value","email","password","fetch","method","headers","Accept","body","JSON","stringify","type","preferredUsername","then","response","json","result","token","cookie","location","href","$7a8cdeb0f1696c38$var$loginFormElement"],"version":3,"file":"login.js.map"}